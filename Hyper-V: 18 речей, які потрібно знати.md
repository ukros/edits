Hyper-V: 18 речей, які потрібно знати

Нижче наведено короткий список з 18 підводних каменів, з якими ви можете зіткнутися при використанні Hyper-V. Ми складали цей список протягом багатьох років, коли створювали інструмент, який допоможе вам захистити Hyper-V. До речі, посилання на Microsoft Hyper-V тут.

Детальний аналіз наведеного нижче див. у статті 18 підводних каменів Hyper-V, які потрібно знати .

Помилка №1: Використання сценаріїв замість спеціального програмного забезпечення для резервного копіювання Hyper-V : Powershell може виконати роботу, але потрібно враховувати той факт, що Microsoft регулярно змінює API Hyper-V, і багато сценаріїв не мають належної обробки помилок. Часто саморобні скрипти також не мають важливих функцій для обробки різних сценаріїв конфігурації під капотом.

Помилка № 2: Недостатньо часте резервне копіювання

Підводний камінь № 3: недооцінка складності конфігурацій віртуальних машин Hyper-V: При роботі з конфігураціями ВМ потрібно набагато більше, ніж просто вказати на віртуальний жорсткий диск

Помилка №4: Не оптимізація VSS (Volume Shadow Copy Service): Microsoft створила VSS, щоб переконатися, що ви рано чи пізно втратите волосся

Підводний камінь №5: Недостатньо вільного місця і оперативної пам'яті на хості і в віртуальних машинах. Брак ресурсів - ключова складова фіаско Windows....

Підводний камінь №6: Використання віртуальних дисків, що динамічно зростають/розширюються: так, вони зручні, але це практично весь позитив.

Помилка №7: Занадто часте резервне копіювання: Параноя дорого коштує навіть в ІТ.

Помилка №8: ігнорування попереджень про жорсткий диск. Помилкова назва, яка коштує чималих грошей. Маючи справу з близько 40 000 клієнтів, ми знаємо, що в 99,9% випадків попередження про жорсткий диск не є попередженням. Це останній заклик вжити заходів, поки жорсткий диск не злетів у повітря

Помилка №9: Не підтримувати служби інтеграції Hyper-V в актуальному стані. Ця проблема особливо актуальна для Windows Server 2008 R2, оскільки Hyper-V Manager не відображає версію служби інтеграції VM Integration Service.

Підводний камінь № 10: Недостатньо місця для зберігання даних на резервному об'єкті.

Помилка №11: Недостатньо придбаного дискового простору. Вам ніколи не буде достатньо, крапка.

Помилка №12: Не підтримувати інструмент резервного копіювання в актуальному стані. Внутрішні зміни в Hyper-V відбуваються досить часто, щоб тримати всіх зайнятими.

Помилка №13: Не встановлення оновлень Windows на віртуальних машинах і на хостах Hyper-V: У Windows Server 2016 нам сказали, що віртуальні машини автоматично оновлюють свої служби інтеграції. Нарешті.... Однак, для всіх інших оновлень програмного забезпечення необхідно керувати цим процесом самостійно.

Помилка №14: Не регулярне тестування на наявність збоїв оперативної пам'яті та дисків: Якщо ви ніколи не стикалися з Bit Red (Bit Red & Data Loss: Are You Aware of the Potential for Damage?), то ви ще нічого не бачили.

Помилка №15: Занадто висока або занадто низька компресія

Помилка №16: Запуск занадто великої кількості віртуальних машин з одного диска. У вас "забагато ліжок в одній спальні"?

Помилка №17: при купівлі інфраструктури не заплановано резервне копіювання Hyper-V

Підводний камінь №18: Використання стиснення або шифрування NTFS або Bitlocker на хостах Hyper-V.

На сьогоднішній день стиснення NTFS є недосконалим. Крім того, шифрування та стиснення на рівні файлової системи призводить до значного зниження продуктивності і, як мінімум, до сильної фрагментації. Тому ми не рекомендуємо використовувати ці функції NTFS у виробничій системі.

Кожен з вищезазначених підводних каменів детально описаний в: 18 Підводні камені Hyper-V, які потрібно знати . 

[Hyper-V: 18 речей, які потрібно знати](https://backupchain.nl)
